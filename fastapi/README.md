# ü©∏ OCR Parser for Blood Analysis Reports

**–°–µ—Ä–≤–∏—Å –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–æ–≤–∏**, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é PaddleOCR. –í—ã—á–∏—Å–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ (IoU, Precision, Recall, F1) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ä–∞–∑–º–µ—Ç–∫—É.

[![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=flat&logo=fastapi)](https://fastapi.tiangolo.com/)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=flat&logo=docker&logoColor=white)](https://www.docker.com/)
[![Python](https://img.shields.io/badge/Python-3.9+-3776AB?style=flat&logo=python&logoColor=white)](https://python.org)

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **üì• –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–∏—ë–º –¥–∞–Ω–Ω—ã—Ö**: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ (GT) –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ (PaddleOCR) –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
*   **‚öñÔ∏è –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç IoU, Precision, Recall, F1-score –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ OCR-–¥–µ—Ç–µ–∫—Ü–∏–∏.
*   **üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ç–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Å **LabelStudio (bbox)**.
*   **üìÅ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –í—Å–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (JSON, –º–µ—Ç—Ä–∏–∫–∏) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `./outputs/`.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1.  [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö)
2.  [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-docker)
3.  [üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#Ô∏è-–ª–æ–∫–∞–ª—å–Ω–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4.  [üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-api)
5.  [üìÅ –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ](#-–≤—ã—Ö–æ–¥–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ)
6.  [üõ£Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞](#Ô∏è-–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞)

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (POST `/compare/`)
–°–µ—Ä–≤–∏—Å –æ–∂–∏–¥–∞–µ—Ç JSON —Å –¥–≤—É–º—è –∫–ª—é—á–µ–≤—ã–º–∏ –º–∞—Å—Å–∏–≤–∞–º–∏:
```json
{
  "ground_truth": [
    {
      "label": "WBC",
      "bbox": [x_min, y_min, x_max, y_max],
      "value": "6.5"
    }
    // ... –¥—Ä—É–≥–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
  ],
  "predictions": [
    {
      "label": "WBC",
      "bbox": [x_min, y_min, x_max, y_max],
      "confidence": 0.95,
      "value": "6.5"
    }
    // ... –¥—Ä—É–≥–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è PaddleOCR
  ]
}

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–∞—Ä—å —Å:

label_studio_gt: –†–∞–∑–º–µ—Ç–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LabelStudio.

label_studio_pred: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞.

comparison_table: –ü–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ GT –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π.

metrics: –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (IoU, Precision, Recall, F1).

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)
–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å:

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
    cd /path/to/your/project
2. –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑:
    docker build -t ocr-blood-parser:latest .
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
    docker run -d -p 8000:8000 --name ocr-api ocr-blood-parser:latest
    –°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å curl:
    curl -X POST "http://localhost:8000/forward/" \
  -H "Content-Type: application/json" \
  -d @paddle_ocr_results.json
